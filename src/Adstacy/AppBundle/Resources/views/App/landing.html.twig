{% extends 'AdstacyAppBundle::layout.html.twig' %}

{% form_theme form _self %}

{% block header %}
  {% include '::header.html.twig' with {register: false}  %}
{% endblock %}

{% block form_row %}
  <div class="form-group">
    {{ form_label(form, null, { label_attr: { class: 'hide' } }) }}
    {{ form_widget(form, { attr: { class: 'form-control' } }) }}
    {{ form_errors(form, { attr: { class: 'alert alert-danger' } }) }}
  </div>
{% endblock %}

{% block content %}
  <style>
    body {
      background-color: #ddd;
      margin-bottom: 0;
    }
  </style>
  <section id="main-title" class="jumbotron clearfix">
    <h1 class="text-center">{{"landing.welcome"|trans}}</h1>
    <div id="form-register-container" class="panel panel-default">
      <div class="panel-heading">
        {% for owner in hwi_oauth_resource_owners() %}
          <a class="btn btn-block btn-{{ owner }}" href="{{ hwi_oauth_login_url(owner) }}">Signup with {{ owner|trans({}, 'HWIOAuthBundle') }}</a>
        {% endfor %}
      </div>
      {{ form_start(form, {attr: {class: 'panel-body', role: 'form'} }) }}
        {{ form_errors(form) }}

        {{ form_row(form.email) }}
        {{ form_row(form.username) }}
        {{ form_row(form.realName) }}
        {{ form_row(form.plainPassword) }}
        <p class="h6">{{ "form_registration.agreement"|trans({'%terms_url%': path('adstacy_app_page_show', {key: 'terms'}),
          '%privacy_url%': path('adstacy_app_page_show', {key: 'privacy-policy'}) })|raw }}</p>
        {{ form_widget(form.register, {attr: {class: 'btn btn-primary btn-block'} }) }}

      {{ form_end(form) }}
    </div>
  </section>

  <div id="main-feature" class="main-container clearfix">
    <!-- inline-block -->
    <section class="main-section">
      <div class="main-pic">
        <span class="icon-ads"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.ad.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.ad.desc"|trans}}</p>
      </div>
    </section><section class="main-section">
      <div class="main-pic">
        <span class="icon-promote"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.social.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.social.desc"|trans}}</p>
      </div>
    </section><section class="main-section">
      <div class="main-pic">
        <span class="icon-hash"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.hashtag.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.hashtag.desc"|trans}}</p>
      </div>
    </section><section class="main-section">
      <div class="main-pic">
        <span class="icon-search"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.search.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.search.desc"|trans}}</p>
      </div>
    </section><section class="main-section">
      <div class="main-pic">
        <span class="icon-hash"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.hashtag.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.hashtag.desc"|trans}}</p>
      </div>
    </section><section class="main-section">
      <div class="main-pic">
        <span class="icon-search"></span>
      </div>
      <div class="main-content">
        <h1>{{"landing.features.search.heading"|trans}}</h1>
        <p class="lead">{{"landing.features.search.desc"|trans}}</p>
      </div>
    </section>
    <!-- end inline-block -->
  </div>

  <script>
    (function($) {
      $.fn.setHeight = function() {
        return this.height(Math.max.apply(this, $.map(this, function(e) { return $(e).height(); })));
      };
    })(jQuery);
    $(function() {
      $('.main-section').setHeight();
    });
  </script>
{% endblock %}
