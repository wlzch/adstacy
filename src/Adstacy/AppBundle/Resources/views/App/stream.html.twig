{% extends is_ajax() ? '::ajax.html.twig' : 'AdstacyAppBundle::layout.html.twig' %}

{% block title %}Your Ads Stream | Adstacy{% endblock %}

{% block content %}
  <div class="site-body">
    {% if user.followingsCount <= 0 %}
      {{ block('ajax_content') }}
    {% else %}
      <div class="jscroll">
        {{ block('ajax_content') }}
      </div>
    {% endif %}
  </div>
{% endblock %}

{% block ajax_content %}
  {% if user.followingsCount <= 0 %}
    <div class="clearfix users">
      {% for user in suggestionsPaginator.getCurrentPageResults %}
        {% include 'AdstacyAppBundle:User:user.html.twig' with {user: user} %}
      {% endfor %}
    </div>
    <div style="margin: 20px 7px 0;">
      <a href="{{ path('adstacy_app_explore') }}" class="btn btn-success btn-block">{{ "continue_to_explore"|trans }}</a>
    </div>
  {% else %}
    {% set id = null %}
    {% for ad in ads %}
      {% set id = ad.id %}
      {% include 'AdstacyAppBundle:Ad:ad.html.twig' with {ad: ad, promotedBy: true} %}
    {% endfor %}
    {% if ads|length >= max_ads_per_page %}
      <a href="{{ path('adstacy_app_stream', {id: id})}}" class="btn btn-default btn-lg btn-block load-next next-page">{{"more"|trans}}</a>
    {% endif %}
  {% endif %}
{% endblock %}

{% block sidebar %}
  <div class="site-sidebar">
    <div class="site-aside">
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo, quo, ipsam,
        temporibus, nulla voluptate vero numquam porro necessitatibus libero molestias
        natus alias repellat aliquid neque asperiores vitae beatae voluptates nobis
        excepturi aut labore quia fugiat eaque corrupti rem velit deserunt.
      </p>
    </div>
    <div class="site-aside">
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo, quo, ipsam,
        temporibus, nulla voluptate vero numquam porro necessitatibus libero molestias
        natus alias repellat aliquid neque asperiores vitae beatae voluptates nobis
        excepturi aut labore quia fugiat eaque corrupti rem velit deserunt.
      </p>
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script type="text/javascript">
    $(function() {
      $('.jscroll').jscroll(Adstacy.options.jscrollAd);
    });
  </script>
{% endblock %}
